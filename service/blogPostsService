const { BlogPosts } = require('../models');

const create = async (title, content, userId) => {
  const result = await BlogPosts.create({ title, content, userId });
  
  return result;
};

const getAll = async () => BlogPosts.findAll({ include: [{ all: true }] });

const getId = async (id) => {
  const result = await BlogPosts.findByPk({ where: { id }, include: [{ all: true }] });

  if (!result) return { message: 'Post does not exist' };
  return result;
};

module.exports = { create, getAll, getId };